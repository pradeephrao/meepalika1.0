User.findByUsername=SELECT u, urr FROM User u LEFT JOIN UserRole urr ON urr.user = u.id AND urr.isPrimaryRole=1 WHERE u.username = ?1 
DoctorAppointment.fetchSlotsByDateAndBranch=SELECT a, b FROM DoctorAppointment a INNER JOIN a.branch b WHERE b.id = ?1 AND a.appointmentDate = ?2
DoctorAppointment.bookSlot=UPDATE DoctorAppointment a SET a.status =?1, a.patient.id =?2, a.reason_for_visit=?3 WHERE a.id =?4
DoctorAppointment.fetchSlotsByDoctorDateBranch=SELECT a, b FROM DoctorAppointment a INNER JOIN a.branch b INNER JOIN a.doctor d WHERE b.id = ?1 AND d.id = ?2 AND a.appointmentDate = ?3 
DoctorAppointment.findAvailableSlots=SELECT a FROM DoctorAppointment a WHERE a.status = 'available'
DoctorAppointment.DoctorAvailableBookedDiagnosedSlotByBranch=SELECT a, b FROM DoctorAppointment a INNER JOIN a.branch b INNER JOIN a.doctor d WHERE a.status IN ('available','booked','diagnosed') AND b.id = ?1 AND d.id = ?2 AND a.appointmentDate = ?3  
DoctorAppointment.checkSlotsAvailability=SELECT COUNT(a.id) FROM DoctorAppointment a INNER JOIN a.doctor d WHERE  d.id = ?1 AND ?2 >= a.slotFrom AND ?3 < a.slotTo AND a.appointmentDate =?4	
UserBranch.fetchAllDoctorByBranchANDActive=SELECT ub, u, urr FROM  UserBranch ub LEFT JOIN UserRole urr ON urr.user.id = ub.user.id INNER JOIN User u ON ub.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE ub.branch.id = ?1 AND (urr.role.id = '2' and r.id = '2') AND (urr.active = ?2 AND u.active = ?2)
#User.fetchAllPatientsByAccountIdANDActive=SELECT u, urr FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role = '4' AND r.id = '4')
User.fetchAllPatientsByAccountIdANDActive=SELECT u FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role = '4' AND r.id = '4')
User.fetchAllusersByAccountIdANDActive=SELECT u FROM User u WHERE u.accountId = ?1 AND u.active = ?2
User.fetchAllSuperAdminEmails=SELECT u.email FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE urr.role.id = ?1 AND r.id = ?1
#User.fetchAllDoctorsByAccountIdANDActive=SELECT u, urr FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role = '2' AND r.id = '2')
User.fetchAllDoctorsByAccountIdANDActive=SELECT u FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role = '2' AND r.id = '2')
#User.fetchAllStaffByAccountIdANDActive=SELECT u, urr FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role.id not in ('4','6') AND r.id not in ('4','6'))
User.fetchAllStaffByAccountIdANDActive=SELECT u FROM User u LEFT JOIN UserRole urr ON urr.user.id = u.id INNER JOIN Role r ON r.id = urr.role.id WHERE u.accountId = ?1  AND (u.active = ?2 AND urr.active = ?2) AND (urr.role.id not in ('4','6') AND r.id not in ('4','6'))
